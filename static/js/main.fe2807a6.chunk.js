(this.webpackJsonpreact_spa=this.webpackJsonpreact_spa||[]).push([[0],{148:function(e,n,t){},149:function(e,n,t){},150:function(e,n,t){},151:function(e,n,t){},160:function(e,n){},162:function(e,n){},172:function(e,n){},174:function(e,n){},201:function(e,n){},203:function(e,n){},204:function(e,n){},209:function(e,n){},211:function(e,n){},217:function(e,n){},219:function(e,n){},238:function(e,n){},250:function(e,n){},253:function(e,n){},261:function(e,n,t){},265:function(e,n,t){},266:function(e,n,t){"use strict";t.r(n);var o=t(1),a=t(0),c=t.n(a),r=t(17),i=t.n(r),s=(t(148),t(149),t(10)),u=t(273),l=t(274),h=t(141),d=t(271),j=t(272),b=t(20),m=(t(150),function(e){var n=e.name,t=e.index,a=e.coinCount,c=e.makePlayerMove;console.log("KeyPad: start: (name, index, coinCount)=(".concat(n,", ").concat(t,", ").concat(a,")"));var r=Object(b.a)(Array(a).keys()).map((function(e){return e+1})),i=function(e){console.log("countClick(): e: ".concat(e));var o=parseInt(e.target.dataset.choice);c(t,o),console.log("chosen: heap-count = ".concat(n,"-").concat(o))};return Object(o.jsx)(o.Fragment,{children:Object(o.jsx)("ul",{className:"choiceNumList",children:r.map((function(e){return Object(o.jsx)("li",{className:"choiceNumItem",onClick:i,"data-choice":e,children:e},e)}))})})});function p(e){var n=e.name,t=e.index,a=e.coinCount,c=e.makePlayerMove;return console.log("KeyPad: start: coinCount=".concat(a)),console.assert(a>0&&a<10,"===>  -".concat(a,"- is invalid")),Object(o.jsx)("div",{className:"heapContainer",children:a>0&&Object(o.jsxs)("div",{className:"keyPad",children:[Object(o.jsx)("h4",{className:"heapName",children:n}),Object(o.jsx)(m,{name:n,index:"".concat(t),coinCount:a,makePlayerMove:c})]})})}t(151);var O=t(11),v=t(134),f=t(136),g=t(135);t(77);function C(){var e=Object(v.a)(["\n  padding: 1rem;\n  margin-top: 48px;\n\n  table {\n    border-spacing: 0;\n    border: 1px solid black;\n\n    tbody tr:nth-child(odd) {\n       // background-color: #ccc;\n       background-color: #e6ffe6;\n    }\n\n    tr {\n      :last-child {\n        td {\n          border-bottom: 0;\n        }\n      }\n    }\n\n    th,\n    td {\n      margin: 0;\n      padding: 0.5rem;\n      border-bottom: 1px solid black;\n      border-right: 1px solid black;\n\n      :last-child {\n        border-right: 0;\n      }\n    }\n  }\n"]);return C=function(){return e},e}var x=f.a.div(C());function M(e){var n=e.columns,t=e.data,a=Object(g.useTable)({columns:n,data:t}),c=a.getTableProps,r=a.getTableBodyProps,i=a.headerGroups,s=a.rows,u=a.prepareRow;return Object(o.jsxs)("table",Object(O.a)(Object(O.a)({},c()),{},{children:[Object(o.jsx)("thead",{children:i.map((function(e){return Object(o.jsx)("tr",Object(O.a)(Object(O.a)({},e.getHeaderGroupProps()),{},{children:e.headers.map((function(e){return Object(o.jsx)("th",Object(O.a)(Object(O.a)({},e.getHeaderProps()),{},{children:e.render("Header")}))}))}))}))}),Object(o.jsx)("tbody",Object(O.a)(Object(O.a)({},r()),{},{children:s.map((function(e,n){return u(e),Object(o.jsx)("tr",Object(O.a)(Object(O.a)({},e.getRowProps()),{},{children:e.cells.map((function(e){return Object(o.jsx)("td",Object(O.a)(Object(O.a)({},e.getCellProps()),{},{children:e.render("Cell")}))}))}))}))}))]}))}var y=function(e){var n=e.movesLog,t=c.a.useMemo((function(){return[{Header:"Move #",accessor:"Move #"},{Header:"Made by",accessor:"Made by"},{Header:"Before",accessor:"Before"},{Header:"Move",accessor:"Move"},{Header:"After",accessor:"After"}]}),[]),a=c.a.useMemo((function(){return n}),[n]);return Object(o.jsx)(x,{children:Object(o.jsx)(M,{columns:t,data:a})})},N=t(48),k=t(32),E=t(33);function A(e,n){return e=Math.ceil(e),n=Math.floor(n),Math.floor(Math.random()*(n-e)+e)}var w=function(){function e(n){var t=n.heapCount,o=n.coinCounts;Object(k.a)(this,e),this.heapNames="ABCDEFGHI".split("").slice(0,t),this.coinCounts=o,this.heapMap=new Map;var a,c=Object(N.a)(this.heapNames.entries());try{for(c.s();!(a=c.n()).done;){var r=Object(s.a)(a.value,2),i=r[0],u=r[1];o[i]>0&&this.heapMap.set(u,this.coinCounts[i])}}catch(l){c.e(l)}finally{c.f()}this.heapCount=this.heapMap.size}return Object(E.a)(e,[{key:"coinCountStr",value:function(e){var n=this,t=e.map((function(e,t){return"".concat(n.heapNames[t]).concat(e)})).join("-");return console.log("coinCountStr(): (coinCounts, str) = ([".concat(e,"], ").concat(t,")")),t}},{key:"coinsLeft",value:function(){return this.heapMap.size>0}}],[{key:"createRandomCoinCounts",value:function(e){return Object(b.a)(Array(e).keys()).map((function(e){return A(1,10)}))}}]),e}(),P=function(){function e(n){Object(k.a)(this,e),this.movesLog=n}return Object(E.a)(e,[{key:"generateNextMove",value:function(e,n,t,o,a){var c=Array.from(e.coinCounts);c[o]-=a;var r=n+1,i=Array.from(this.movesLog),s={"Move #":r,"Made by":t,Before:e.coinCountStr(e.coinCounts),Move:"".concat(e.heapNames[o]).concat(a),After:e.coinCountStr(c)};return i.unshift(s),{newMoveNum:r,newCoinCounts:c,newMovesLog:i}}}]),e}(),T=function(){function e(n,t){var o=this;Object(k.a)(this,e),this.heapNames="ABCDEFGHI".split("").slice(0,n),this.coinCounts=t,this.heapMap=new Map;var a,c=Object(N.a)(this.heapNames.entries());try{for(c.s();!(a=c.n()).done;){var r=Object(s.a)(a.value,2),i=r[0],u=r[1];t[i]>0&&this.heapMap.set(u,this.coinCounts[i])}}catch(l){c.e(l)}finally{c.f()}this.heapCount=this.heapMap.size,this.coinCounts=t,this.singletonCount=0,this.heapMap.forEach((function(e,n,t){1===e&&(o.singletonCount+=1)})),this.doubletonCount=0,this.heapMap.forEach((function(e,n,t){2===e&&(o.doubletonCount+=1)}))}return Object(E.a)(e,[{key:"getRandomMove",value:function(){var e=this.coinCounts.map((function(e,n){return{index:n,count:e}})).filter((function(e){return e.count>0})),n=A(0,e.length);return{heapNum:e[n].index,count:A(1,e[n].count+1)}}},{key:"getMove",value:function(){var e=-1,n=-1;if(1===this.heapCount)console.log("\n--- CASE #1: ALL COINS FROM THE ONLY NONEMPTY HEAP"),this.coinCounts.forEach((function(t,o){t>0&&(e=o,n=t)}));else if(2===this.heapCount&&1===this.singletonCount)console.log("\n--- CASE #2: ALL BUT ONE COINS FROM NON-SINGLETON HEAP"),this.coinCounts.forEach((function(t,o){t>1&&(e=o,n=t-1)}));else if(3===this.heapCount&&2===this.singletonCount)console.log("\n--- CASE #3: TAKE ALL COINS FROM THE ONLY NON-SINGLETON HEAP"),this.coinCounts.forEach((function(t,o){t>1&&(e=o,n=t)}));else{console.log("\n--- CASE #0: RANDOM MOVE");var t=this.getRandomMove(),o=t.heapNum,a=t.count;e=o,n=a}return{heapNum:e,count:n}}}]),e}(),L=function(){return Object(o.jsxs)("div",{id:"gameDescription",children:[Object(o.jsx)("p",{children:"This is a Man vs Machine game. The game board contains five columns labeled A, B,C,D, and E. Each column contains bricks numbered 1, 2, 3 etc. with brick 1 being the topmost and numbers increasing as you go down the column."}),Object(o.jsx)("p",{children:"Each player takes turns at punching one or more bricks from a single column. When a brick is punched, that brick and all the bricks above it are removed from the board. For example if brick number 3 in column B is punched, then brick number 3 and the bricks numbered 2 and 1 sitting above the punched brick 3 in column B, are all removed the board. Bricks if any in the affected column are re-numbered with the top most brick being labeled as the new number 1 brick."}),Object(o.jsx)("p",{children:"Aim of the game is to remove, with a last knockout punch, all the bricks from the last remaining column. Player delivering the knockout punch wins the game."})]})};function S(e){var n=e.gameMode,t=e.nextMover,c=e.heapCount,r=(e.setPlayAgain,Object(a.useState)(!0)),i=Object(s.a)(r,2),u=i[0],l=i[1],d=Object(a.useState)(t),j=Object(s.a)(d,2),m=j[0],O=j[1],v=parseInt(c),f=Object(a.useState)(w.createRandomCoinCounts(v)),g=Object(s.a)(f,2),C=g[0],x=g[1],M=Object(a.useState)([]),N=Object(s.a)(M,2),k=N[0],E=N[1],A=Object(a.useState)(0),S=Object(s.a)(A,2),R=S[0],B=S[1];console.log("GAME_BOARD: START --\x3e GameBoard: start: (heapCount, mover) = (".concat(v,", ").concat(m,")")),console.log("--\x3e GameBoard: start: (coinCounts) = ([".concat(C,")]"));var H=new w({heapCount:v,coinCounts:C}),F=new P(k),I=function(e,n){var t=new w({heapCount:v,coinCounts:C}),o=F.generateNextMove(t,R,m,e,n),a=o.newMoveNum,c=o.newCoinCounts,r=o.newMovesLog;console.log("\nMAKE-PLAYER-MOVE(): (moveNum, heapNum, count) = (".concat(a,", ").concat(e,", ").concat(n,")")),console.log("makePlayerMove: (newCoinCounts, coinCounts) = (".concat(c,", ").concat(C,")")),B(a),x(Object(b.a)(Array(v).keys()).map((function(e){return c[e]}))),E(r),O("COMPUTER")};if(!H.coinsLeft()){var Y="COMPUTER"===m?"You win! Congratulations!":"Computer wins. Try Again";return Object(o.jsx)("div",{className:"gameBoardContainer",children:Object(o.jsxs)("div",{className:"gameBoard",children:["practice"===n&&Object(o.jsx)(y,{movesLog:k}),Object(o.jsxs)("div",{id:"winMessage",children:[Object(o.jsx)("h1",{children:"".concat(Y," ")}),Object(o.jsx)(h.a,{variant:"primary",id:"playAgain",size:"lg",onClick:function(){x(w.createRandomCoinCounts(v)),E([]),B(0),l(!1),O(t)},children:"Play again"})]})]})})}return"COMPUTER"===m&&function(){var e=new w({heapCount:v,coinCounts:C}),n=new T(v,C).getMove(e),t=n.heapNum,o=n.count,a=F.generateNextMove(e,R,m,t,o),c=a.newMoveNum,r=a.newCoinCounts,i=a.newMovesLog;console.log("\nMAKE-COMPUTER-MOVE(): (moveNum, heapNum, count) = (".concat(c,", ").concat(t,", ").concat(o,")")),console.log("makeComputerMove: (newCoinCounts, coinCounts) = (".concat(r,", ").concat(C,")")),B(c),x(Object(b.a)(Array(v).keys()).map((function(e){return r[e]}))),E(i),O("PLAYER")}(),Object(o.jsxs)("div",{className:"gameBoardContainer",children:[u&&Object(o.jsx)(L,{}),Object(o.jsx)("div",{className:"gameBoard",children:H.heapNames.map((function(e,n){return Object(o.jsx)(p,{name:"".concat(e),index:"".concat(n),coinCount:C[n],makePlayerMove:I})}))}),"practice"===n&&R>0&&Object(o.jsx)(y,{movesLog:k})]})}t(261);var R=function(){var e={Help:"\n                    You will be presented with a game board consisting of 3 heaps of coins.\n                    Each heap contains at least one coin and at most 9 coins.\n\n                    There are two players in the game - you and the computer.\n                    Each player makes moves alternately.\n\n                    On each move, a player chooses a non-empty heap and removes\n                    one or more coins from the heap.\n\n                    The player who takes the last coin on the board is declared\n                    to have won the game.\n    ",Instructions:"\n                            At the start of the game, you can choose to go first or let the\n                             computer make the first move.\n                            \n                             Heaps of coins are referred to by letters 'a b c'.\n                            \n                             You indicate your move by entering a string like 'b3',\n                             meaning you want to remove 3 coins from heap b.\n     "};return Object(o.jsx)(o.Fragment,{children:["Help","Instructions"].map((function(n){return Object(o.jsx)(u.a,{trigger:"click",placement:"bottom",overlay:Object(o.jsxs)(l.a,{id:"popover-positioned-bottom",children:[Object(o.jsx)(l.a.Title,{as:"h3",children:"".concat(n)}),Object(o.jsx)(l.a.Content,{children:"".concat(e[n])})]}),children:Object(o.jsx)(h.a,{variant:"secondary",className:"helpButton",children:n})},n)}))})},B=function(e){var n=e.chooseFirstMover,t=Object(a.useState)("1"),c=Object(s.a)(t,2),r=c[0],i=c[1],u=function(e){i(e.currentTarget.value),"1"===e.currentTarget.value?n("PLAYER"):n("COMPUTER")};return Object(o.jsx)(o.Fragment,{children:Object(o.jsxs)("fieldset",{children:[Object(o.jsx)("legend",{children:"First mover"}),Object(o.jsx)(d.a,{toggle:!0,children:[{name:"PLAYER",value:"1"},{name:"COMPUTER",value:"2"}].map((function(e,n){return Object(o.jsx)(j.a,{className:"playerToggleButton",type:"radio",variant:"secondary",name:"radio",value:e.value,checked:r===e.value,onChange:u,children:e.name},n)}))})]})})},H=function(e){var n=e.chooseHeapCount,t=Object(a.useState)("7"),c=Object(s.a)(t,2),r=c[0],i=c[1],u=function(e){var t=parseInt(e.currentTarget.value);n(t),i(e.currentTarget.value)};return Object(o.jsx)(o.Fragment,{children:Object(o.jsxs)("fieldset",{children:[Object(o.jsx)("legend",{children:"Heap count"}),Object(o.jsx)(d.a,{toggle:!0,children:[{name:"2",value:"2"},{name:"3",value:"3"},{name:"4",value:"4"},{name:"5",value:"5"},{name:"6",value:"6"},{name:"7",value:"7"},{name:"8",value:"8"},{name:"9",value:"9"}].map((function(e,n){return Object(o.jsx)(j.a,{className:"heapCountToggleButton",type:"radio",variant:"secondary",name:"heapCount",value:e.value,checked:r===e.value,onChange:u,children:e.name},n)}))})]})})};function F(){var e=Object(a.useState)("play"),n=Object(s.a)(e,2),t=n[0],c=(n[1],Object(a.useState)("PLAYER")),r=Object(s.a)(c,2),i=r[0],u=r[1],l=Object(a.useState)("5"),h=Object(s.a)(l,2),d=h[0],j=h[1],b=Object(a.useState)(!0),m=Object(s.a)(b,2),p=m[0],O=m[1];return console.log("--\x3e GameSetup: start"),p?Object(o.jsxs)("div",{id:"topContainer",children:["practice"===t&&Object(o.jsxs)("div",{children:[Object(o.jsx)("div",{className:"helpInstructions",children:Object(o.jsx)(R,{})}),Object(o.jsx)("div",{id:"firstMover",children:Object(o.jsx)(B,{chooseFirstMover:function(e){u(e)}})}),Object(o.jsx)("div",{id:"heapCount",children:Object(o.jsx)(H,{chooseHeapCount:function(e){j(e)}})})]}),Object(o.jsx)("div",{children:Object(o.jsx)(S,{gameMode:t,nextMover:i,heapCount:d,setPlayAgain:O})})]}):Object(o.jsxs)("div",{id:"topContainer",children:[Object(o.jsx)("div",{className:"helpInstructions",children:Object(o.jsx)(R,{})}),Object(o.jsxs)("div",{children:[Object(o.jsx)("h2",{children:"Thank you for playing KnockOut!"}),Object(o.jsx)("h4",{children:"Please visit again!"})]})]})}t(265);function I(){return console.log("NimZap: start"),Object(o.jsx)("div",{id:"homeContainer",children:Object(o.jsx)(F,{})})}var Y=function(){return Object(o.jsxs)("div",{className:"App",children:[Object(o.jsx)("header",{className:"App-header",children:"KnockOut"}),Object(o.jsx)(I,{})]})},G=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,275)).then((function(n){var t=n.getCLS,o=n.getFID,a=n.getFCP,c=n.getLCP,r=n.getTTFB;t(e),o(e),a(e),c(e),r(e)}))};i.a.render(Object(o.jsx)(c.a.StrictMode,{children:Object(o.jsx)(Y,{})}),document.getElementById("root")),G()}},[[266,1,2]]]);
//# sourceMappingURL=main.fe2807a6.chunk.js.map