(this.webpackJsonpreact_spa=this.webpackJsonpreact_spa||[]).push([[0],{145:function(e,n,t){},146:function(e,n,t){},147:function(e,n,t){},148:function(e,n,t){},157:function(e,n){},159:function(e,n){},169:function(e,n){},171:function(e,n){},198:function(e,n){},199:function(e,n){},204:function(e,n){},206:function(e,n){},213:function(e,n){},232:function(e,n){},253:function(e,n,t){},257:function(e,n,t){},258:function(e,n,t){"use strict";t.r(n);var a=t(1),o=t(0),c=t.n(o),r=t(18),i=t.n(r),s=(t(145),t(146),t(8)),u=t(265),l=t(266),h=t(138),d=t(263),j=t(264),b=t(20),m=(t(147),function(e){var n=e.name,t=e.index,o=e.coinCount,c=e.makePlayerMove;console.log("KeyPad: start: (name, index, coinCount)=(".concat(n,", ").concat(t,", ").concat(o,")"));var r=Object(b.a)(Array(o).keys()).map((function(e){return e+1})),i=function(e){console.log("countClick(): e: ".concat(e));var a=parseInt(e.target.dataset.choice);c(t,a),console.log("chosen: heap-count = ".concat(n,"-").concat(a))};return Object(a.jsx)(a.Fragment,{children:Object(a.jsx)("ul",{className:"choiceNumList",children:r.map((function(e){return Object(a.jsx)("li",{className:"choiceNumItem",onClick:i,"data-choice":e,children:e},e)}))})})});function v(e){var n=e.name,t=e.index,o=e.coinCount,c=e.makePlayerMove;return console.log("KeyPad: start: coinCount=".concat(o)),console.assert(o>0&&o<10,"===>  -".concat(o,"- is invalid")),Object(a.jsx)("div",{className:"heapContainer",children:o>0&&Object(a.jsxs)("div",{className:"keyPad",children:[Object(a.jsx)("h4",{className:"heapName",children:n}),Object(a.jsx)(m,{name:n,index:"".concat(t),coinCount:o,makePlayerMove:c})]})})}t(148);var O=t(12),p=t(131),f=t(133),g=t(132);t(75);function C(){var e=Object(p.a)(["\n  padding: 1rem;\n  margin-top: 48px;\n\n  table {\n    border-spacing: 0;\n    border: 1px solid black;\n\n    tbody tr:nth-child(odd) {\n       // background-color: #ccc;\n       background-color: #e6ffe6;\n    }\n\n    tr {\n      :last-child {\n        td {\n          border-bottom: 0;\n        }\n      }\n    }\n\n    th,\n    td {\n      margin: 0;\n      padding: 0.5rem;\n      border-bottom: 1px solid black;\n      border-right: 1px solid black;\n\n      :last-child {\n        border-right: 0;\n      }\n    }\n  }\n"]);return C=function(){return e},e}var x=f.a.div(C());function M(e){var n=e.columns,t=e.data,o=Object(g.useTable)({columns:n,data:t}),c=o.getTableProps,r=o.getTableBodyProps,i=o.headerGroups,s=o.rows,u=o.prepareRow;return Object(a.jsxs)("table",Object(O.a)(Object(O.a)({},c()),{},{children:[Object(a.jsx)("thead",{children:i.map((function(e){return Object(a.jsx)("tr",Object(O.a)(Object(O.a)({},e.getHeaderGroupProps()),{},{children:e.headers.map((function(e){return Object(a.jsx)("th",Object(O.a)(Object(O.a)({},e.getHeaderProps()),{},{children:e.render("Header")}))}))}))}))}),Object(a.jsx)("tbody",Object(O.a)(Object(O.a)({},r()),{},{children:s.map((function(e,n){return u(e),Object(a.jsx)("tr",Object(O.a)(Object(O.a)({},e.getRowProps()),{},{children:e.cells.map((function(e){return Object(a.jsx)("td",Object(O.a)(Object(O.a)({},e.getCellProps()),{},{children:e.render("Cell")}))}))}))}))}))]}))}var y=function(e){var n=e.movesLog,t=c.a.useMemo((function(){return[{Header:"Move #",accessor:"Move #"},{Header:"Made by",accessor:"Made by"},{Header:"Before",accessor:"Before"},{Header:"Move",accessor:"Move"},{Header:"After",accessor:"After"}]}),[]),o=c.a.useMemo((function(){return n}),[n]);return Object(a.jsx)(x,{children:Object(a.jsx)(M,{columns:t,data:o})})},N=t(47),k=t(31),E=t(32);function A(e,n){return e=Math.ceil(e),n=Math.floor(n),Math.floor(Math.random()*(n-e)+e)}var P=function(){function e(n){var t=n.heapCount,a=n.coinCounts;Object(k.a)(this,e),this.heapNames="ABCDEFGHI".split("").slice(0,t),this.coinCounts=a,this.heapMap=new Map;var o,c=Object(N.a)(this.heapNames.entries());try{for(c.s();!(o=c.n()).done;){var r=Object(s.a)(o.value,2),i=r[0],u=r[1];a[i]>0&&this.heapMap.set(u,this.coinCounts[i])}}catch(l){c.e(l)}finally{c.f()}this.heapCount=this.heapMap.size}return Object(E.a)(e,[{key:"coinCountStr",value:function(e){var n=this,t=e.map((function(e,t){return"".concat(n.heapNames[t]).concat(e)})).join(" | ");return console.log("coinCountStr(): (coinCounts, str) = ([".concat(e,"], ").concat(t,")")),t}},{key:"coinsLeft",value:function(){return this.heapMap.size>0}}],[{key:"createRandomCoinCounts",value:function(e){return Object(b.a)(Array(e).keys()).map((function(e){return A(1,10)}))}}]),e}(),T=function(){function e(n){Object(k.a)(this,e),this.movesLog=n}return Object(E.a)(e,[{key:"generateNextMove",value:function(e,n,t,a,o){var c=Array.from(e.coinCounts);c[a]-=o;var r=n+1,i=Array.from(this.movesLog),s={"Move #":r,"Made by":t,Before:e.coinCountStr(e.coinCounts),Move:"".concat(e.heapNames[a]).concat(o),After:e.coinCountStr(c)};return i.unshift(s),{newMoveNum:r,newCoinCounts:c,newMovesLog:i}}}]),e}(),w=function(){function e(n,t){var a=this;Object(k.a)(this,e),this.heapNames="ABCDEFGHI".split("").slice(0,n),this.coinCounts=t,this.heapMap=new Map;var o,c=Object(N.a)(this.heapNames.entries());try{for(c.s();!(o=c.n()).done;){var r=Object(s.a)(o.value,2),i=r[0],u=r[1];t[i]>0&&this.heapMap.set(u,this.coinCounts[i])}}catch(l){c.e(l)}finally{c.f()}this.heapCount=this.heapMap.size,this.coinCounts=t,this.singletonCount=0,this.heapMap.forEach((function(e,n,t){1===e&&(a.singletonCount+=1)})),this.doubletonCount=0,this.heapMap.forEach((function(e,n,t){2===e&&(a.doubletonCount+=1)}))}return Object(E.a)(e,[{key:"getRandomMove",value:function(){var e=this.coinCounts.map((function(e,n){return{index:n,count:e}})).filter((function(e){return e.count>0})),n=A(0,e.length);return{heapNum:e[n].index,count:A(1,e[n].count+1)}}},{key:"getMove",value:function(){var e=-1,n=-1;if(1===this.heapCount)console.log("\n--- CASE #1: ALL COINS FROM THE ONLY NONEMPTY HEAP"),this.coinCounts.forEach((function(t,a){t>0&&(e=a,n=t)}));else if(2===this.heapCount&&1===this.singletonCount)console.log("\n--- CASE #2: ALL BUT ONE COINS FROM NON-SINGLETON HEAP"),this.coinCounts.forEach((function(t,a){t>1&&(e=a,n=t-1)}));else if(3===this.heapCount&&2===this.singletonCount)console.log("\n--- CASE #3: TAKE ALL COINS FROM THE ONLY NON-SINGLETON HEAP"),this.coinCounts.forEach((function(t,a){t>1&&(e=a,n=t)}));else{console.log("\n--- CASE #0: RANDOM MOVE");var t=this.getRandomMove(),a=t.heapNum,o=t.count;e=a,n=o}return{heapNum:e,count:n}}}]),e}(),L=function(){return Object(a.jsxs)("div",{id:"gameDescription",children:[Object(a.jsx)("p",{children:"This is a Man vs Machine game. The game board contains five columns labeled A, B,C,D, and E. Each column contains bricks numbered 1, 2, 3 etc. with brick 1 being the topmost and numbers increasing as you go down the column."}),Object(a.jsx)("p",{children:"Each player takes turns at punching one or more bricks from a single column. When a brick is punched, that brick and all the bricks above it are removed from the board. For example if brick number 3 in column B is punched, then brick number 3 and the bricks numbered 2 and 1 sitting above the punched brick 3 in column B, are all removed the board. Bricks if any in the affected column are re-numbered with the top most brick being labeled as the new number 1 brick."}),Object(a.jsx)("p",{children:"Aim of the game is to remove, with a last knockout punch, all the bricks from the last remaining column. Player delivering the knockout punch wins the game."})]})},S=function(e){var n=e.chooseFirstMover,t=Object(o.useState)("1"),c=Object(s.a)(t,2),r=c[0],i=c[1],u=function(e){i(e.currentTarget.value),"1"===e.currentTarget.value?n("PLAYER"):n("COMPUTER")};return Object(a.jsx)(a.Fragment,{children:Object(a.jsxs)("fieldset",{children:[Object(a.jsx)("legend",{children:"First mover"}),Object(a.jsx)(d.a,{toggle:!0,children:[{name:"PLAYER",value:"1"},{name:"COMPUTER",value:"2"}].map((function(e,n){return Object(a.jsx)(j.a,{className:"playerToggleButton",type:"radio",variant:"secondary",name:"radio",value:e.value,checked:r===e.value,onChange:u,children:e.name},n)}))})]})})};function R(e){var n=e.gameMode,t=e.nextMover,c=e.heapCount,r=(e.setPlayAgain,Object(o.useState)(!0)),i=Object(s.a)(r,2),u=i[0],l=i[1],d=Object(o.useState)(!0),j=Object(s.a)(d,2),m=j[0],O=j[1],p=Object(o.useState)(t),f=Object(s.a)(p,2),g=f[0],C=f[1],x=Object(o.useState)("PLAYER"),M=Object(s.a)(x,2),N=(M[0],M[1]),k=parseInt(c),E=Object(o.useState)(P.createRandomCoinCounts(k)),A=Object(s.a)(E,2),R=A[0],B=A[1],F=Object(o.useState)([]),H=Object(s.a)(F,2),I=H[0],Y=H[1],G=Object(o.useState)(0),U=Object(s.a)(G,2),D=U[0],K=U[1];console.log("GAME_BOARD: START --\x3e GameBoard: start: (heapCount, mover) = (".concat(k,", ").concat(g,")")),console.log("--\x3e GameBoard: start: (coinCounts) = ([".concat(R,")]")),console.log("--\x3e GameBoard: start: (mover) = ([".concat(g,")]"));var z=new P({heapCount:k,coinCounts:R}),V=new T(I),_=function(e,n){var t=new P({heapCount:k,coinCounts:R}),a=V.generateNextMove(t,D,g,e,n),o=a.newMoveNum,c=a.newCoinCounts,r=a.newMovesLog;console.log("\nMAKE-PLAYER-MOVE(): (moveNum, heapNum, count) = (".concat(o,", ").concat(e,", ").concat(n,")")),console.log("makePlayerMove: (newCoinCounts, coinCounts) = (".concat(c,", ").concat(R,")")),K(o),B(Object(b.a)(Array(k).keys()).map((function(e){return c[e]}))),Y(r),C("COMPUTER"),O(!1)};if(!z.coinsLeft()){var J="COMPUTER"===g?"You win! Congratulations!":"Computer wins. Try Again";return Object(a.jsx)("div",{className:"gameBoardContainer",children:Object(a.jsxs)("div",{className:"gameBoard",children:["practice"===n&&Object(a.jsx)(y,{movesLog:I}),Object(a.jsxs)("div",{id:"winMessage",children:[Object(a.jsx)("h1",{children:"".concat(J," ")}),Object(a.jsx)(h.a,{variant:"primary",id:"playAgain",size:"lg",onClick:function(){B(P.createRandomCoinCounts(k)),Y([]),K(0),l(!1),O(!0),C(t)},children:"Play again"})]})]})})}return"COMPUTER"===g&&function(){var e=new P({heapCount:k,coinCounts:R}),n=new w(k,R).getMove(e),t=n.heapNum,a=n.count,o=V.generateNextMove(e,D,g,t,a),c=o.newMoveNum,r=o.newCoinCounts,i=o.newMovesLog;console.log("\nMAKE-COMPUTER-MOVE(): (moveNum, heapNum, count) = (".concat(c,", ").concat(t,", ").concat(a,")")),console.log("makeComputerMove: (newCoinCounts, coinCounts) = (".concat(r,", ").concat(R,")")),K(c),B(Object(b.a)(Array(k).keys()).map((function(e){return r[e]}))),Y(i),C("PLAYER")}(),Object(a.jsxs)("div",{className:"gameBoardContainer",children:[u&&Object(a.jsx)(L,{}),Object(a.jsx)("div",{className:"gameBoard",children:z.heapNames.map((function(e,n){return Object(a.jsx)(v,{name:"".concat(e),index:"".concat(n),coinCount:R[n],makePlayerMove:_},"".concat(e))}))}),m&&Object(a.jsx)("div",{id:"firstMover",children:Object(a.jsx)(S,{chooseFirstMover:function(e){N(e),C(e),O(!1)}})}),Object(a.jsx)("div",{id:"tickerTapeDiv",children:Object(a.jsx)(y,{movesLog:I})}),"practice"===n&&D>0&&Object(a.jsx)(y,{movesLog:I})]})}t(253);var B=function(){var e={Help:"\n                    You will be presented with a game board consisting of 3 heaps of coins.\n                    Each heap contains at least one coin and at most 9 coins.\n\n                    There are two players in the game - you and the computer.\n                    Each player makes moves alternately.\n\n                    On each move, a player chooses a non-empty heap and removes\n                    one or more coins from the heap.\n\n                    The player who takes the last coin on the board is declared\n                    to have won the game.\n    ",Instructions:"\n                            At the start of the game, you can choose to go first or let the\n                             computer make the first move.\n                            \n                             Heaps of coins are referred to by letters 'a b c'.\n                            \n                             You indicate your move by entering a string like 'b3',\n                             meaning you want to remove 3 coins from heap b.\n     "};return Object(a.jsx)(a.Fragment,{children:["Help","Instructions"].map((function(n){return Object(a.jsx)(u.a,{trigger:"click",placement:"bottom",overlay:Object(a.jsxs)(l.a,{id:"popover-positioned-bottom",children:[Object(a.jsx)(l.a.Title,{as:"h3",children:"".concat(n)}),Object(a.jsx)(l.a.Content,{children:"".concat(e[n])})]}),children:Object(a.jsx)(h.a,{variant:"secondary",className:"helpButton",children:n})},n)}))})},F=function(e){var n=e.chooseFirstMover,t=Object(o.useState)("1"),c=Object(s.a)(t,2),r=c[0],i=c[1],u=function(e){i(e.currentTarget.value),"1"===e.currentTarget.value?n("PLAYER"):n("COMPUTER")};return Object(a.jsx)(a.Fragment,{children:Object(a.jsxs)("fieldset",{children:[Object(a.jsx)("legend",{children:"First mover"}),Object(a.jsx)(d.a,{toggle:!0,children:[{name:"PLAYER",value:"1"},{name:"COMPUTER",value:"2"}].map((function(e,n){return Object(a.jsx)(j.a,{className:"playerToggleButton",type:"radio",variant:"secondary",name:"radio",value:e.value,checked:r===e.value,onChange:u,children:e.name},n)}))})]})})},H=function(e){var n=e.chooseHeapCount,t=Object(o.useState)("7"),c=Object(s.a)(t,2),r=c[0],i=c[1],u=function(e){var t=parseInt(e.currentTarget.value);n(t),i(e.currentTarget.value)};return Object(a.jsx)(a.Fragment,{children:Object(a.jsxs)("fieldset",{children:[Object(a.jsx)("legend",{children:"Heap count"}),Object(a.jsx)(d.a,{toggle:!0,children:[{name:"2",value:"2"},{name:"3",value:"3"},{name:"4",value:"4"},{name:"5",value:"5"},{name:"6",value:"6"},{name:"7",value:"7"},{name:"8",value:"8"},{name:"9",value:"9"}].map((function(e,n){return Object(a.jsx)(j.a,{className:"heapCountToggleButton",type:"radio",variant:"secondary",name:"heapCount",value:e.value,checked:r===e.value,onChange:u,children:e.name},n)}))})]})})};function I(){var e=Object(o.useState)("play"),n=Object(s.a)(e,2),t=n[0],c=(n[1],Object(o.useState)("PLAYER")),r=Object(s.a)(c,2),i=r[0],u=r[1],l=Object(o.useState)("5"),h=Object(s.a)(l,2),d=h[0],j=h[1],b=Object(o.useState)(!0),m=Object(s.a)(b,2),v=m[0],O=m[1];return console.log("--\x3e GameSetup: start"),v?Object(a.jsxs)("div",{id:"topContainer",children:["practice"===t&&Object(a.jsxs)("div",{children:[Object(a.jsx)("div",{className:"helpInstructions",children:Object(a.jsx)(B,{})}),Object(a.jsx)("div",{id:"firstMover",children:Object(a.jsx)(F,{chooseFirstMover:function(e){u(e)}})}),Object(a.jsx)("div",{id:"heapCount",children:Object(a.jsx)(H,{chooseHeapCount:function(e){j(e)}})})]}),Object(a.jsx)("div",{children:Object(a.jsx)(R,{gameMode:t,nextMover:i,heapCount:d,setPlayAgain:O})})]}):Object(a.jsxs)("div",{id:"topContainer",children:[Object(a.jsx)("div",{className:"helpInstructions",children:Object(a.jsx)(B,{})}),Object(a.jsxs)("div",{children:[Object(a.jsx)("h2",{children:"Thank you for playing KnockOut!"}),Object(a.jsx)("h4",{children:"Please visit again!"})]})]})}t(257);function Y(){return console.log("NimZap: start"),Object(a.jsx)("div",{id:"homeContainer",children:Object(a.jsx)(I,{})})}var G=function(){return Object(a.jsxs)("div",{className:"App",children:[Object(a.jsx)("header",{className:"App-header",children:"KnockOut"}),Object(a.jsx)(Y,{})]})},U=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,267)).then((function(n){var t=n.getCLS,a=n.getFID,o=n.getFCP,c=n.getLCP,r=n.getTTFB;t(e),a(e),o(e),c(e),r(e)}))};i.a.render(Object(a.jsx)(c.a.StrictMode,{children:Object(a.jsx)(G,{})}),document.getElementById("root")),U()}},[[258,1,2]]]);
//# sourceMappingURL=main.e18c2345.chunk.js.map